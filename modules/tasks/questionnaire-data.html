<div id=D__ID>
  <div>
      VmInclude:__COMPONENT__/module/grid.v1.html
  </div>
  <script>
    function F__ID(){
      //-------------------------------------
      VmInclude:__COMPONENT__/module/grid.v1.js
      //-------------------------------------
      var fields="language,cardiology_discipline,AFiB_fail_drug,AFiB_fail_cardioversion,AFiB_fail_first_ablation,AFiB_fail_second_ablation";
      fields+=",risk_factor_age,risk_factor_diabetes,risk_factor_hypertension,risk_factor_obesity,risk_factor_alcohol,risk_factor_osa";
      fields+=",risk_factor_thyroid,risk_factor_cld,risk_factor_cad,risk_factor_valvular,risk_factor_chf,risk_factor_diastolic_dysfunction";
      fields+=",sleep_lab_access,sleep_referral,full_sleep_study,limited_sleep_study,dx_osa_proportion,rec_tx_osa_proportion,tx_osa_proportion";
      fields+=",accept_cpap_inluence_referral,prior_sleep_referral,after_sleep_referral,research_preventing_afib,research_managing_first_afib";
      fields+=",research_managing_paroxysmal_afib,research_managing_persistent_afib,research_managing_permanent_afib,outcome_reduce_risk_stroke";
      fields+=",outcome_reduce_risk_afib_recurrence,outcome_reduce_risk_afib_hospitalisation,outcome_reduce_afib_burden,outcome_improve_qol";
      fields+=",outcome_improve_sleep,afib_tx_stroke,rct_stroke,afib_tx_cardioversion,rct_cardioversion,afib_tx_ablation,rct_ablation,afib_tx_hf";
      fields+=",rct_hf,afib_tx_hospitalisation,rct_hospitalisation,afib_tx_sx,rct_sx,afib_tx_qol,rct_qol,Country,comments";
      m.fields="_Form,Record ID|UID,"+fields+",Submit Date|DateTime,Submitted by|Author,_Delete";
      m.form_fields=fields;
      //-------------------------------------
      m.set_req_export=function(i1,i2){
          var sql="with tb as (select UID,Information,DateTime,Author,RowNum=row_number() over (order by ID DESC) from [TABLE-"+m.db_pid+"-@S1] )";
          sql+="select UID,Information,DateTime,Author from tb where RowNum between @I1 and @I2";
        m.req={cmd:'read',qid:m.qid,sql:sql,i1:i1,i2:i2};
      }
      //-----------------------------------------------
      m.cell_render=function(records,I,field,td,set_value,source){
        switch(field){
          case 'UID':
            records[I].vm_readonly[field]=true;
            break;
        }
      }
      //-------------------------------------
      //$('#new__ID').off('click').on('click',function(){$vm.load_module_v2(m.form_module,'',{goback:1})})
      //$('#D__ID').on('load',function(){  if(m.preload==true) return; m.set_req(); m.request_data(); })
      //-------------------------------------
    }
  </script>
  <style>
    VmInclude:__COMPONENT__/module/grid.v1.css
      #D__ID{
        height:100%;
        overflow:auto;
        animation: vm_module_fadein 1.0s;
        background-color: #fff;
      }
</style>
</div>
